{"version":3,"sources":["components/CustomerTableRow.js","components/CustomerList.js","components/CreateCustomer.js","components/EditCustomer.js","App.js","index.js"],"names":["CustomerTableRow","obj","action","name","email","rollno","className","to","_id","Button","onClick","axios","delete","then","res","console","log","catch","error","size","variant","CustomerList","props","handler","fetchData","state","customers","stateBustingKey","get","setState","data","this","prevProps","map","i","Table","striped","bordered","hover","DataTable","React","Component","CreateCustomer","useState","setName","setEmail","setRollno","setCustomers","onSubmit","e","a","preventDefault","customerObject","post","result","result2","Form","Group","controlId","Label","Control","type","value","onChange","target","block","EditCustomer","match","history","useEffect","params","id","put","push","App","Navbar","Container","Brand","Row","Col","md","exact","path","component","CreateStudent","EditStudent","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.390872a7.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\n\nconst CustomerTableRow = ({obj,action})=> {\n\n    // constructor(props) {\n    //     super(props);\n    //     this.deleteCustomer = this.deleteCustomer.bind(this);\n    \n    // }\n\n    const deleteCustomer =  () => {\n        axios.delete('http://localhost:4000/customers/delete-customer/' + obj._id)\n            .then((res) => {\n                console.log(\"deleted\")\n                action();\n                }).catch((error) => {\n                console.log(error)\n            })\n\n    }\n\n        return (\n            <tr>\n                <td>{obj.name}</td>\n                <td>{obj.email}</td>\n                <td>{obj.rollno}</td>\n                <td>\n                    <Link className=\"edit-link\" to={\"/edit-customer/\" + obj._id}>\n                        Edit\n                    </Link>\n                    <Button onClick={deleteCustomer} size=\"sm\" variant=\"danger\">Delete</Button>\n                </td>\n            </tr>\n        );\n}\n\nexport default CustomerTableRow;","import React, { Component } from \"react\";\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nimport CustomerTableRow from './CustomerTableRow';\n\n\nexport default class CustomerList extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      customers: [],\n      stateBustingKey: 0\n    };\n  }\n  fetchData(){\n    console.log(\"fetch\")\n    axios.get('http://localhost:4000/customers/')\n    .then(res => {\n      this.setState({\n        customers: res.data\n      });\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n  }\n  handler=() =>{\n    this.fetchData();\n}\n  componentDidMount() {\n      this.fetchData();\n  }\n  componentDidUpdate(prevProps){\n    console.log({prevProps})\n    if(this.props.customers !==prevProps.customers){\n      this.fetchData();\n    }\n  }\n\n  DataTable() {\n    const { stateBustingKey } = this.state;\n    return this.state.customers.map((res, i) => {\n      return <CustomerTableRow  action={this.handler} obj={res} key={i} />;\n    }); \n  }\n\n\n  render() {\n    return (\n    <div className=\"table-wrapper\">\n      <Table  striped bordered hover>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Roll No</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.DataTable()}\n        </tbody>\n      </Table>\n    </div>);\n  }\n}","import React, { Component, useState } from \"react\";\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\nimport CustomerList from \"./CustomerList\";\n\nconst  CreateCustomer =()=> {\n\n  // constructor(props) {\n  //   super(props)\n\n  //   // Setting up functions\n  //   this.onChangeCustomerName = this.onChangeCustomerName.bind(this);\n  //   this.onChangeCustomerEmail = this.onChangeCustomerEmail.bind(this);\n  //   this.onChangeCustomerRollno = this.onChangeCustomerRollno.bind(this);\n  //   this.onSubmit = this.onSubmit.bind(this);\n\n  //   // Setting up state\n  //   this.state = {\n  //     name: '',\n  //     email: '',\n  //     rollno: '',\n  //     customers: []\n  //   }\n  // }\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('')\n  const [rollno, setRollno] = useState('')\n  const [customers, setCustomers] = useState([])\n  \n  const onChangeCustomerName = (e) => {\n    setName(e.target.value )\n  }\n\n  const onChangeCustomerEmail = (e) => {\n    setEmail(e.target.value )\n  }\n\n  const onChangeCustomerRollno = (e) => {\n   setRollno( e.target.value )\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n\n    const customerObject = {\n      name:name,\n      email: email,\n      rollno: rollno\n    };\n    const result = await axios.post('http://localhost:4000/customers/create-customer', customerObject)\n    \n    setName(result.data.name)\n    setEmail(result.data.email)\n    setRollno(result.data.rollno)\n\n    const result2 = await axios.get('http://localhost:4000/customers/')\n    .catch((error) => {\n      console.log(error);\n    })\n    setCustomers(result2)\n\n  }\n\n    return (<div className=\"form-wrapper\">\n      <Form onSubmit={onSubmit}>\n        <Form.Group controlId=\"Name\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control type=\"text\" value={name} onChange={onChangeCustomerName} />\n        </Form.Group>\n\n        <Form.Group controlId=\"Email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control type=\"email\" value={email} onChange={onChangeCustomerEmail} />\n        </Form.Group>\n\n        <Form.Group controlId=\"Name\">\n          <Form.Label>Roll No</Form.Label>\n          <Form.Control type=\"text\" value={rollno} onChange={onChangeCustomerRollno} />\n        </Form.Group>\n\n        <Button variant=\"danger\" size=\"lg\" block=\"block\" type=\"submit\">\n          Create Customer\n        </Button>\n      </Form>\n      <CustomerList customers={customers}></CustomerList>\n    </div>);\n\n}\n\nexport default CreateCustomer;","import React, { Component, useState,useEffect } from \"react\";\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button';\nimport axios from 'axios';\n\nconst  EditCustomer = ({match, history})=> {\n\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('')\n    const [rollno, setRollno] = useState('')\n\n    useEffect(async() => {\n     const result = await axios.get('http://localhost:4000/customers/edit-customer/' + match.params.id)\n      .catch((error) => {\n        console.log(error);\n      })\n      setName(result.data.name);\n      setEmail(result.data.email);\n      setRollno(result.data.rollno);\n\n  },[])\n\n  const onChangeCustomerName = (e) => {\n    setName(e.target.value )\n  }\n\n  const onChangeCustomerEmail = (e) => {\n    setEmail(e.target.value )\n  }\n\n  const onChangeCustomerRollno = (e) => {\n   setRollno( e.target.value )\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const customerObject = {\n      name: name,\n      email: email,\n      rollno: rollno\n    };\n\n    axios.put('http://localhost:4000/customers/update-customer/' + match.params.id, customerObject)\n      .then((res) => {\n        console.log(res.data)\n        console.log('Customer successfully updated')\n      }).catch((error) => {\n        console.log(error)\n      })\n\n    // Redirect to Customer List \n    history.push('/')\n  }\n\n    return (<div className=\"form-wrapper\">\n      <Form onSubmit={onSubmit}>\n        <Form.Group controlId=\"Name\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control type=\"text\" value={name} onChange={onChangeCustomerName} />\n        </Form.Group>\n\n        <Form.Group controlId=\"Email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control type=\"email\" value={email} onChange={onChangeCustomerEmail} />\n        </Form.Group>\n\n        <Form.Group controlId=\"Name\">\n          <Form.Label>Roll No</Form.Label>\n          <Form.Control type=\"text\" value={rollno} onChange={onChangeCustomerRollno} />\n        </Form.Group>\n\n        <Button variant=\"danger\" size=\"lg\" block=\"block\" type=\"submit\">\n          Update Customer\n        </Button>\n      </Form>\n    </div>);\n  \n}\n\nexport default EditCustomer;","import React from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./App.css\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport CreateStudent from \"./components/CreateCustomer\";\nimport EditStudent from \"./components/EditCustomer\";\nimport StudentList from \"./components/CustomerList\";\n\nfunction App() {\n  return (<Router>\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Navbar>\n          <Container>\n            <Navbar.Brand>\n              <Link to={\"/create-customer\"} className=\"nav-link\">\n                Customer list App\n              </Link>\n            </Navbar.Brand>\n          </Container>\n        </Navbar>\n      </header>\n\n      <Container>\n        <Row>\n          <Col md={6} className=\"center\">\n            <div className=\"wrapper center\">\n              <Switch>\n                <Route exact path='/' component={CreateStudent} />\n                <Route path=\"/create-customer\" component={CreateStudent} />\n                <Route path=\"/edit-customer/:id\" component={EditStudent} />\n              </Switch>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  </Router>);\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n// import * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();"],"sourceRoot":""}