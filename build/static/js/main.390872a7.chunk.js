(this.webpackJsonphana=this.webpackJsonphana||[]).push([[0],{53:function(e,t,c){},55:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(0),s=c.n(n),r=c(18),o=c.n(r),l=c(16),i=(c(53),c(30)),j=c(29),u=c(45),h=c(21),d=(c(54),c(55),c(7)),b=c(19),O=c.n(b),m=c(20),p=c(14),x=c(6),f=c(17),v=c(13),g=c.n(v),y=c(41),C=c(42),N=c(47),k=c(46),D=c(44),w=function(e){var t=e.obj,c=e.action;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.email}),Object(a.jsx)("td",{children:t.rollno}),Object(a.jsxs)("td",{children:[Object(a.jsx)(l.b,{className:"edit-link",to:"/edit-customer/"+t._id,children:"Edit"}),Object(a.jsx)(f.a,{onClick:function(){g.a.delete("http://localhost:4000/customers/delete-customer/"+t._id).then((function(e){console.log("deleted"),c()})).catch((function(e){console.log(e)}))},size:"sm",variant:"danger",children:"Delete"})]})]})},S=function(e){Object(N.a)(c,e);var t=Object(k.a)(c);function c(e){var a;return Object(y.a)(this,c),(a=t.call(this,e)).handler=function(){a.fetchData()},a.state={customers:[],stateBustingKey:0},a}return Object(C.a)(c,[{key:"fetchData",value:function(){var e=this;console.log("fetch"),g.a.get("http://localhost:4000/customers/").then((function(t){e.setState({customers:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){console.log({prevProps:e}),this.props.customers!==e.customers&&this.fetchData()}},{key:"DataTable",value:function(){var e=this;this.state.stateBustingKey;return this.state.customers.map((function(t,c){return Object(a.jsx)(w,{action:e.handler,obj:t},c)}))}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"table-wrapper",children:Object(a.jsxs)(D.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{children:"Roll No"}),Object(a.jsx)("th",{children:"Action"})]})}),Object(a.jsx)("tbody",{children:this.DataTable()})]})})}}]),c}(s.a.Component),E=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),o=Object(p.a)(r,2),l=o[0],i=o[1],j=Object(n.useState)(""),u=Object(p.a)(j,2),h=u[0],d=u[1],b=Object(n.useState)([]),v=Object(p.a)(b,2),y=v[0],C=v[1],N=function(){var e=Object(m.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:c,email:l,rollno:h},e.next=4,g.a.post("http://localhost:4000/customers/create-customer",a);case 4:return n=e.sent,s(n.data.name),i(n.data.email),d(n.data.rollno),e.next=10,g.a.get("http://localhost:4000/customers/").catch((function(e){console.log(e)}));case 10:r=e.sent,C(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"form-wrapper",children:[Object(a.jsxs)(x.a,{onSubmit:N,children:[Object(a.jsxs)(x.a.Group,{controlId:"Name",children:[Object(a.jsx)(x.a.Label,{children:"Name"}),Object(a.jsx)(x.a.Control,{type:"text",value:c,onChange:function(e){s(e.target.value)}})]}),Object(a.jsxs)(x.a.Group,{controlId:"Email",children:[Object(a.jsx)(x.a.Label,{children:"Email"}),Object(a.jsx)(x.a.Control,{type:"email",value:l,onChange:function(e){i(e.target.value)}})]}),Object(a.jsxs)(x.a.Group,{controlId:"Name",children:[Object(a.jsx)(x.a.Label,{children:"Roll No"}),Object(a.jsx)(x.a.Control,{type:"text",value:h,onChange:function(e){d(e.target.value)}})]}),Object(a.jsx)(f.a,{variant:"danger",size:"lg",block:"block",type:"submit",children:"Create Customer"})]}),Object(a.jsx)(S,{customers:y})]})},I=function(e){var t=e.match,c=e.history,s=Object(n.useState)(""),r=Object(p.a)(s,2),o=r[0],l=r[1],i=Object(n.useState)(""),j=Object(p.a)(i,2),u=j[0],h=j[1],d=Object(n.useState)(""),b=Object(p.a)(d,2),v=b[0],y=b[1];Object(n.useEffect)(Object(m.a)(O.a.mark((function e(){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://localhost:4000/customers/edit-customer/"+t.params.id).catch((function(e){console.log(e)}));case 2:c=e.sent,l(c.data.name),h(c.data.email),y(c.data.rollno);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(a.jsx)("div",{className:"form-wrapper",children:Object(a.jsxs)(x.a,{onSubmit:function(e){e.preventDefault();var a={name:o,email:u,rollno:v};g.a.put("http://localhost:4000/customers/update-customer/"+t.params.id,a).then((function(e){console.log(e.data),console.log("Customer successfully updated")})).catch((function(e){console.log(e)})),c.push("/")},children:[Object(a.jsxs)(x.a.Group,{controlId:"Name",children:[Object(a.jsx)(x.a.Label,{children:"Name"}),Object(a.jsx)(x.a.Control,{type:"text",value:o,onChange:function(e){l(e.target.value)}})]}),Object(a.jsxs)(x.a.Group,{controlId:"Email",children:[Object(a.jsx)(x.a.Label,{children:"Email"}),Object(a.jsx)(x.a.Control,{type:"email",value:u,onChange:function(e){h(e.target.value)}})]}),Object(a.jsxs)(x.a.Group,{controlId:"Name",children:[Object(a.jsx)(x.a.Label,{children:"Roll No"}),Object(a.jsx)(x.a.Control,{type:"text",value:v,onChange:function(e){y(e.target.value)}})]}),Object(a.jsx)(f.a,{variant:"danger",size:"lg",block:"block",type:"submit",children:"Update Customer"})]})})};var G=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(i.a,{children:Object(a.jsx)(j.a,{children:Object(a.jsx)(i.a.Brand,{children:Object(a.jsx)(l.b,{to:"/create-customer",className:"nav-link",children:"Customer list App"})})})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(u.a,{children:Object(a.jsx)(h.a,{md:6,className:"center",children:Object(a.jsx)("div",{className:"wrapper center",children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/",component:E}),Object(a.jsx)(d.a,{path:"/create-customer",component:E}),Object(a.jsx)(d.a,{path:"/edit-customer/:id",component:I})]})})})})})]})})};o.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(G,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.390872a7.chunk.js.map